(()=>{var p=new Event("nova:custom-validation");function h(){window.addEventListener("focusout",e=>{c(e.target)}),window.addEventListener("submit",e=>{let n=y(e.target);n.length>0&&(e.preventDefault(),n[0].element.focus())},!0),window.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll("form").forEach(n=>{n.hasAttribute("nova-ignore")||n.setAttribute("novalidate","")})})}function c(e){let n=!0,s=e.closest("form");if(s&&s.hasAttribute("nova-ignore"))return null;if(e.type=="radio"){let i=s||document;if(i.querySelector("input[type=radio][name="+e.name+"][nova-ignore]"))return null;let u=i.querySelector("input[type=radio][name="+e.name+"][checked]"),a=i.querySelector("input[type=radio][name="+e.name+"][required]"),l=i.querySelector("input[type=radio][name="+e.name+"][aria-errormessage]"),r=null,o=null;if(l&&(r=l.getAttribute("aria-errormessage"),o=document.getElementById(r)),u&&a)o&&(o.innerText="",o.hidden=!0),i.querySelector("input[type=radio][name="+e.name+"][aria-invalid]").removeAttribute("aria-invalid");else if(a){if(!o){let v=i.querySelector("input[type=radio][name="+e.name+"]"),d=b("nova-error-element-"),t=document.createElement("div");t.setAttribute("id",d),t.setAttribute("class","nova-errormessage"),v.parentNode.insertBefore(t),v.setAttribute("aria-errormessage",d)}errDef=i.querySelector("input[type=radio][name="+e.name+"][nova-error-valuemissing],input[type=radio][name="+e.name+"][nova-error-required],input[type=radio][name="+e.name+"][nova-error]"),o.innerText=f(errDef||e,["nova-error-valuemissing","nova-error-required","nova-error"]),o.hidden=!1,a.setAttribute("aria-invalid","true")}}else if(e.tagName!=="BUTTON"&&!["button","submit","reset","hidden"].includes(e.type)){if(e.hasAttribute("nova-ignore"))return null;let i=e.getAttributeNames(),u=null,a=null;i.includes("aria-errormessage")&&(u=e.getAttribute("aria-errormessage"),a=document.getElementById(u)),e.dispatchEvent(p);let l=e.getAttribute("nova-custom-validation");if(l){let r=Function("$element","return "+l)(e);e.setCustomValidity(r)}if(e.checkValidity())e.removeAttribute("aria-invalid"),a&&(a.hidden=!0,a.innerText="");else{if(n=!1,e.setAttribute("aria-invalid","true"),u||(u="nova-error-element-"+Math.floor(Math.random()*9999999999999).toString(36),e.setAttribute("aria-errormessage",u)),!a){let o=document.createElement("div");o.id=u,o.class="nova-errormessage",e.parentNode.insertAfter(e)}let r=[];e.validity.badInput?r=["nova-error-badinput","nova-error"]:e.validity.customError?r=["nova-error-customerror","nova-error"]:e.validity.patternMissmatch?r=["nova-error-patternmismatch","nova-error"]:e.validity.rangeOverflow?r=["nova-error-rangeoverflow","nova-error-range","nova-error"]:e.validity.rangeUnderflow?r=["nova-error-rangeunderflow","nova-error-range","nova-error"]:e.validity.stepMismatch?r=["nova-error-stepmismatch","nova-error"]:e.validity.tooLong?r=["nova-error-toolong","nova-error-length","nova-error"]:e.validity.tooShort?r=["nova-error-tooshort","nova-error-length","nova-error"]:e.validity.typeMismatch?r=["nova-error-typemismatch","nova-error"]:e.validity.valueMissing&&(r=["nova-error-valuemissing","nova-error-required","nova-error"]),a.innerText=f(e,r),a.hidden=!1}}return n}function y(e){if(e.hasAttribute("nova-ignore"))return[];let n=[];for(let s=0;s<el.elements.length;s++)c(e.elements[s])===!1&&n.push(e.elements[s]);return n}function f(e,n){let s=e.getAttributeNames(),i=m(e,"min"),u=m(e,"max"),a=m(e,"minlength"),l=m(e,"maxlength"),r=m(e,"step"),o=isNaN(r)?"":e.value-e.value%r,v=isNaN(r)?"":e.value+(r-e.value%r);for(let d=0;d<n.length;d++)if(s.includes(n[d])){let t=e.getAttribute(n[d]).trim();if(t=t.replace("%min%",i),t=t.replace("%max%",u),t=t.replace("%minlength%",a),t=t.replace("%maxlength%",l),t=t.replace("%step%",r),t=t.replace("%previousstep%",o),t=t.replace("%nextstep%",v),t!="")return t}return e.validationMessage}function m(e,n){return attr=e.getAttribute(n),isNaN(attr)?"":attr}function b(e){return e+Math.Math.floor(Math.random()*9999999999999).toString(36)}var g=h;g();})();
