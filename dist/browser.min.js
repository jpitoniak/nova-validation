(()=>{var p=new Event("nova:custom-validation");function h(){window.addEventListener("focusout",e=>{c(e.target)}),window.addEventListener("submit",e=>{let a=y(e.target);a.length>0&&(e.preventDefault(),a[0].focus())},!0),window.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll("form").forEach(a=>{a.hasAttribute("nova-ignore")||a.setAttribute("novalidate","")})})}function c(e){let a=!0,o=e.closest("form");if(o&&o.hasAttribute("nova-ignore"))return null;if(e.type=="radio"){let i=o||document;if(i.querySelector("input[type=radio][name="+e.name+"][nova-ignore]"))return null;let s=i.querySelector("input[type=radio][name="+e.name+"][checked]"),n=i.querySelector("input[type=radio][name="+e.name+"][required]"),l=i.querySelector("input[type=radio][name="+e.name+"][aria-errormessage]"),r=null,u=null;if(l&&(r=l.getAttribute("aria-errormessage"),u=document.getElementById(r)),s&&n)u&&(u.innerText="",u.hidden=!0),i.querySelector("input[type=radio][name="+e.name+"][aria-invalid]").removeAttribute("aria-invalid");else if(n){if(!u){let m=i.querySelector("input[type=radio][name="+e.name+"]"),d=b("nova-error-element-"),t=document.createElement("div");t.setAttribute("id",d),t.setAttribute("class","nova-errormessage"),m.before(t),m.setAttribute("aria-errormessage",d)}errDef=i.querySelector("input[type=radio][name="+e.name+"][nova-error-valuemissing],input[type=radio][name="+e.name+"][nova-error-required],input[type=radio][name="+e.name+"][nova-error]"),u.innerText=f(errDef||e,["nova-error-valuemissing","nova-error-required","nova-error"]),u.hidden=!1,n.setAttribute("aria-invalid","true")}}else if(e.tagName!=="BUTTON"&&!["button","submit","reset","hidden"].includes(e.type)){if(e.hasAttribute("nova-ignore"))return null;let i=e.getAttributeNames(),s=null,n=null;i.includes("aria-errormessage")&&(s=e.getAttribute("aria-errormessage"),n=document.getElementById(s)),e.dispatchEvent(p);let l=e.getAttribute("nova-custom-validation");if(l){let r=Function("$element","return "+l)(e);e.setCustomValidity(r)}if(e.checkValidity())e.removeAttribute("aria-invalid"),n&&(n.hidden=!0,n.innerText="");else{a=!1,e.setAttribute("aria-invalid","true"),s||(s="nova-error-element-"+Math.floor(Math.random()*9999999999999).toString(36),e.setAttribute("aria-errormessage",s)),n||(n=document.createElement("div"),n.id=s,n.class="nova-errormessage",e.after(n));let r=[];e.validity.badInput?r=["nova-error-badinput","nova-error"]:e.validity.customError?r=["nova-error-customerror","nova-error"]:e.validity.patternMissmatch?r=["nova-error-patternmismatch","nova-error"]:e.validity.rangeOverflow?r=["nova-error-rangeoverflow","nova-error-range","nova-error"]:e.validity.rangeUnderflow?r=["nova-error-rangeunderflow","nova-error-range","nova-error"]:e.validity.stepMismatch?r=["nova-error-stepmismatch","nova-error"]:e.validity.tooLong?r=["nova-error-toolong","nova-error-length","nova-error"]:e.validity.tooShort?r=["nova-error-tooshort","nova-error-length","nova-error"]:e.validity.typeMismatch?r=["nova-error-typemismatch","nova-error"]:e.validity.valueMissing&&(r=["nova-error-valuemissing","nova-error-required","nova-error"]),n.innerText=f(e,r),n.hidden=!1}}return a}function y(e){if(e.hasAttribute("nova-ignore"))return[];let a=[];for(let o=0;o<e.elements.length;o++)c(e.elements[o])===!1&&a.push(e.elements[o]);return a}function f(e,a){let o=e.getAttributeNames(),i=v(e,"min"),s=v(e,"max"),n=v(e,"minlength"),l=v(e,"maxlength"),r=v(e,"step"),u=isNaN(r)?"":e.value-e.value%r,m=isNaN(r)?"":e.value+(r-e.value%r);for(let d=0;d<a.length;d++)if(o.includes(a[d])){let t=e.getAttribute(a[d]).trim();if(t=t.replace("%min%",i),t=t.replace("%max%",s),t=t.replace("%minlength%",n),t=t.replace("%maxlength%",l),t=t.replace("%step%",r),t=t.replace("%previousstep%",u),t=t.replace("%nextstep%",m),t!="")return t}return e.validationMessage}function v(e,a){return attr=e.getAttribute(a),isNaN(attr)?"":attr}function b(e){return e+Math.Math.floor(Math.random()*9999999999999).toString(36)}var g=h;g();})();
